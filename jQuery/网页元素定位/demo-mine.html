<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery实践-网页元素定位</title>
	<style type="text/css">
	*{
		margin:0;
		padding:0;
	}
	.wrap{
		width:930px;
		margin:0 auto;
	}
	.wrap h1{
		margin:30px 20px;
		color:blue;

	}
	.item{
		width:100%;
		height:600px;
		border:1px dotted black;
		padding:20px;
		margin:25px 0;
	}
	.item h3{
		font-size:24px;
		border-bottom:2px solid blue;
		margin-bottom:20px;
	}

	.item a img{
		width:300px;
		height:170px;

	}
	.sidebar{
		position:fixed;
		left:50%;
		margin-left:500px;
	}
	.sidebar li{
		
		margin:5px 0;
		list-style:none;
		width:100px;
		height:30px;
		line-height:30px;
		text-align:center;
	}
	.sidebar li a{
		text-decoration:none;
		color:#000;
	}
	.sidebar li a:hover{
		color:white;
	}
	.sidebar li:hover,.sidebar .active{
		background:orange;
	}
	.sidebar .active a{
		color:white;
	}
	
	</style>
</head>
<body>
	<div class="sidebar" id="sidebar">
		<ul>
			<li><a href="#home">回顶部</a></li>
			<li class="active"><a href="#item1">1F 男装</a></li>
			<li><a href="#item2">2F 女装</a></li>
			<li><a href="#item3">3F 时尚</a></li>
			<li><a href="#item4">4F 潮流</a></li>
			<li><a href="#item5">5F 另类</a></li>
		</ul>
	</div>
	<div class="wrap" id="home">
		<h1 >地狗购物网</h1>
		<div id="item1" class="item">
			<h3>1F 男装</h3>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
			<a href=""><img src="img/1F.jpg" alt="1F"></a>
		</div>
	

		<div id="item2" class="item">
			<h3>2F 女装</h3>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
			<a href=""><img src="img/2F.jpg" alt="2F"></a>
		</div>

		<div id="item3" class="item">
			<h3>3F 时尚</h3>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
			<a href=""><img src="img/3F.jpg" alt="3F"></a>
		</div>

		<div id="item4" class="item">
			<h3>4F 潮流</h3>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
			<a href=""><img src="img/4F.png" alt="4F"></a>
		</div>
	
		<div id="item5" class="item">
			<h3>5F 另类</h3>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
			<a href=""><img src="img/5F.jpg" alt="5F"></a>
		</div>
	</div>


	<script type="text/javascript" src="../jquery-2.2.3.min.js"></script>
	<script type="text/javascript">
	$(document).ready(function(){
		$(window).scroll(function(){
			var top = $(document).scrollTop();
			var items = $("#home").find(".item");
			var currentId = "";
			items.each(function(){
				var itop = $(this).offset().top;
				if(top>itop-200){
					currentId = "#"+$(this).attr("id");
				}else{
					return false;
				}
			});
			var oldLink = $("#sidebar").find(".active");
			var oldLinkHref = oldLink.find("a").attr("href");
			//[href='val']别忘了单引号
			var newLink = $("#sidebar").find("[href='"+currentId+"']").parent();
			if(currentId && oldLinkHref!=currentId){
				oldLink.removeClass("active");
				newLink.addClass("active");
			}
		});
	});
	</script>
</body>
</html>